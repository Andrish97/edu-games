<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <title>Neon Tetris ‚Äì Neon Arcade</title>

    <!-- Motyw globalny -->
    <link rel="stylesheet" href="../../../css/theme.css" />
    <!-- Style gry -->
    <link rel="stylesheet" href="game.css" />

    <!-- Core -->
    <script src="../../../js/core/auth.js" defer></script>
    <script src="../../../js/core/progress.js" defer></script>
    <script src="../../../js/core/coins.js" defer></script>
    <script src="../../../js/core/auth-bar.js" defer></script>
    <script src="../../../js/core/ui.js" defer></script>

    <!-- Logika gry -->
    <script src="game.js" defer></script>
  </head>
  <body class="arcade-body arcade-game-page">
    <!-- Pasek logowania + diamenty -->
    <div
      data-arcade-auth-bar
      data-after-login="../../../arcade.html"
      data-after-guest="../../../arcade.html"
    ></div>

    <div class="shell">
      <div class="card game-root">
        <header class="game-header">
          <div>
            <h1 class="game-title">Neon Tetris</h1>
            <p class="game-subtitle">
              Uk≈Çadaj spadajƒÖce klocki, tw√≥rz linie i walcz o rekord (i diamenty üíé).
            </p>
          </div>

          <div class="score-panel">
            <div class="score-box">
              <span class="score-label">Wynik</span>
              <span id="score" class="score-value">0</span>
            </div>
            <div class="score-box">
              <span class="score-label">Rekord</span>
              <span id="best-score" class="score-value">0</span>
            </div>
            <div class="score-box">
              <span class="score-label">Gry</span>
              <span id="total-games" class="score-value">0</span>
            </div>
          </div>

          <div class="score-panel score-panel--buttons">
            <button id="new-game-btn" class="arcade-btn">Nowa gra</button>
            <button id="pause-btn" class="arcade-btn">Pauza</button>
            <button id="save-game-btn" class="arcade-btn">Zapisz</button>
            <button id="reset-record-btn" class="arcade-btn">
              Resetuj rekord
            </button>
          </div>
        </header>

        <main class="game-layout">
          <div class="game-main">
            <!-- Plansza -->
            <canvas id="game" width="240" height="480"></canvas>

            <!-- Sterowanie dotykowe (tylko na urzƒÖdzeniach dotykowych) -->
            <div class="touch-controls">
              <button id="btn-left" class="arcade-btn touch-btn">‚Üê</button>
              <button id="btn-right" class="arcade-btn touch-btn">‚Üí</button>
              <button id="btn-rotate" class="arcade-btn touch-btn">‚ü≥</button>
              <button id="btn-soft" class="arcade-btn touch-btn">‚Üì</button>
              <button id="btn-hard" class="arcade-btn touch-btn">‚§ì</button>
            </div>
          </div>

          <aside class="game-side">
            <div class="mini-stats">
              <div class="mini-stat">
                <span class="mini-label">Poziom</span>
                <span id="level" class="mini-value">1</span>
              </div>
              <div class="mini-stat">
                <span class="mini-label">Linie</span>
                <span id="lines" class="mini-value">0</span>
              </div>
            </div>

            <div class="controls-info">
              <div class="controls-title">Sterowanie</div>
              <div class="controls-keys">
                <b>‚Üê ‚Üí</b> ‚Äì ruch w poziomie<br />
                <b>‚Üì</b> ‚Äì miƒôkki spadek<br />
                <b>‚Üë</b> ‚Äì obr√≥t<br />
                <b>Spacja</b> ‚Äì twardy spadek
              </div>
              <p class="controls-note">
                Diamenty üíé dostajesz za dobre wyniki. S≈Çabe runy ‚Äì bez nagrody.
              </p>
            </div>

            <div class="games-played-info">
              Rozegranych gier: <span id="games-played-info">0</span>
            </div>
          </aside>
        </main>

        <!-- Overlay ko≈Ñca gry -->
        <div id="game-over-overlay" class="overlay overlay--hidden">
          <div class="overlay-content">
            <h2>Koniec gry</h2>
            <p>Brak ruch√≥w. Spr√≥buj jeszcze raz!</p>
            <button id="overlay-new-game-btn" class="arcade-btn">
              Nowa gra
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
